<!-- navbar -->
<link rel="stylesheet" href="../res/css/style.css">
<nav class="navbar navbar-expand-lg navbar-dark bg-success">
    <div class="container-fluid">
        <a class="navbar-brand" href="../sites/home.html">
            <img src="../res/img/Logo_SBM.png" alt="" width="68" height="45" >
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent1" aria-controls="navbarSupportedContent1" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent1">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item dropdown" id="navBreadAndPastries">
                    <a class="nav-link active dropdown-toggle" onclick="loadPage()" href="#" role="button" data-bs-toggle="dropdown">Bread & Pastries</a>
                    <ul class="dropdown-menu">
                        <li ><a class="dropdown-item" href="#" id="bread">Bread</a></li>
                        <li ><a class="dropdown-item" href="#" id="pastries">Pastries</a></li>
                        <li><a class="dropdown-item" href="#" id="rolls">Rolls</a></li>
                        <li><a class="dropdown-item" href="#" id="confectionery">Confectionery</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown" id="navMeatAndFish">
                    <a class="nav-link active dropdown-toggle" onclick="loadPage()" href="#" role="button" data-bs-toggle="dropdown">Meat & Fish</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#" id="poultry">Poultry</a></li>
                        <li><a class="dropdown-item" href="#" id="pork">Pork</a></li>
                        <li><a class="dropdown-item" href="#" id="beef">Beef</a></li>
                        <li><a class="dropdown-item" href="#" id="seafood">Seafood</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown" id="navFruitsAndVegetables">
                    <a class="nav-link active dropdown-toggle" onclick="loadPage()" href="#" role="button" data-bs-toggle="dropdown">Fruits & Vegetables</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#" id="fruits">Fruits</a></li>
                        <li><a class="dropdown-item" href="#" id="herbs">Herbs</a></li>
                        <li><a class="dropdown-item" href="#" id="salads">Salads</a></li>
                        <li><a class="dropdown-item" href="#" id="vegetables">Vegetables</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown" id="navVeganAndDrinks">
                    <a class="nav-link active dropdown-toggle" onclick="loadPage()" href="#" role="button" data-bs-toggle="dropdown">Vegan & Drinks</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#" id="meatSub">Meat Substitutes</a></li>
                        <li><a class="dropdown-item" href="#" id="milkSub">Milk Substitutes</a></li>
                        <li><a class="dropdown-item" href="#" id="cheeseSub">Cheese Substitutes</a></li>
                        <li><a class="dropdown-item" href="#" id="tofu">Tofu Variations</a></li>
                        <li><a class="dropdown-item" href="#" id="juices">Juices</a></li>
                        <li><a class="dropdown-item" href="#" id="smoothies">Smoothies</a></li>
                        <li><a class="dropdown-item" href="#" id="milkAndHotChocolate">Milk and Hot Chocolate</a></li>
                        <li><a class="dropdown-item" href="#" id="alcohol">Alcoholic Beverages</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown" id="navHealthAndCare">
                    <a class="nav-link active dropdown-toggle" onclick="loadPage()" href="#" role="button" data-bs-toggle="dropdown">Health & Care</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#" id="healthProducts">Health Products</a></li>
                        <li><a class="dropdown-item" href="#" id="naturalCosmetics">Natural Cosmetics</a></li>
                    </ul>
                </li>
                <!--
                <li class="nav-item" id="navLogin">
                    <a class="nav-link" aria-current="page" id="loginBtn">Login</a>
                </li>-->

            </ul>
            <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
                <li class="nav-item" visibility ="all" id="navEditProducts">
                    <a class="nav-link active" aria-current="page" href="../sites/productManagement.html">Add Products</a>
                </li>


                <li class="nav-item" visibility ="all" id="navEditCustomers">
                    <a class="nav-link active" aria-current="page" href="../sites/userManagement.html">Edit Customers</a>
                </li>


                <li class="nav-item" visibility ="all" id="navMyProfile">
                    <a class="nav-link active" aria-current="page" href="../sites/myProfile.html">My Profile</a>
                </li>

            </li>
            <ul class="navbar-nav ml-auto mb-2 mb-lg-0">

                <span class = "navbar-text" id="navCurrentUser">
						<!-- Current User - Demo Text Below-->
                        <div id="displayUser"></div>
					</span>
            </ul>
            <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
                <input type= hidden class="nav-link active" aria-current="page" href="../sites/cart.html" id="card-quantity" onload="addCart()"></input>
            </ul>


            <form class="d-flex">
                <input class="form-control me-2" type="text" placeholder="Search" id="searchProduct">
                <button class="btn btn-primary" type="button">Search</button>
            </form>
            <li class="nav-item" id="navLogout">
                <a class="nav-link" aria-current="page" href="../sites/home.html" id="btnLogoutClicked">Logout</a> <!-- link deleted -->
            </li>
            </ul>
        </div>
    </div>
</nav>

<script src="../js/logout.js"></script>
<script src="../js/productManagement.js"></script>
<script>
    $("#bread").click(function (){
        loadBreadEdit();
    });
    $("#pastries").click(function (){
        loadPastriesEdit();
    });
    $("#rolls").click(function (){
        loadRollsEdit();
    });
    $("#confectionery").click(function (){
        loadConfectioneryEdit();
    });
    $("#poultry").click(function (){
        loadPoultryEdit();
    });
    $("#pork").click(function (){
        loadPorkEdit();
    });
    $("#beef").click(function (){
        loadBeefEdit();
    });
    $("#seafood").click(function (){
        loadSeafoodEdit();
    });
    $("#fruits").click(function (){
        loadFruitsEdit();
    });
    $("#herbs").click(function (){
        loadHerbsEdit();
    });
    $("#salads").click(function (){
        loadSaladsEdit();
    });
    $("#vegetables").click(function (){
        loadVegetablesEdit();
    });
    $("#meatSub").click(function (){
        loadMeatSubEdit();
    });
    $("#milkSub").click(function (){
        loadMilkSubEdit();
    });
    $("#cheeseSub").click(function (){
        loadCheeseSubEdit();
    });
    $("#tofu").click(function (){
        loadTofuVarEdit();
    });
    $("#juices").click(function (){
        loadJuicesEdit();
    });
    $("#smoothies").click(function (){
        loadSmoothiesEdit();
    });
    $("#milkAndHotChocolate").click(function (){
        loadMilkAndHotChocolateEdit();
    });
    $("#alcohol").click(function (){
        loadAlcoholicBevEdit();
    });
    $("#healthProducts").click(function (){
        loadHealthProdEdit();
    });
    $("#naturalCosmetics").click(function (){
        loadNaturalCosmeticsEdit();
    });
    $("#btnLogoutClicked").click(function (){
        logout();
    });

    function loadPage(){
        window.location.href = "../sites/products.html";
    }

    function readCartQuantity(productId){
        $.ajax({
            type: "GET",
            url: "../config/cartquantitydatahandler.php",
            cache: false,
            data: {productid: productId},
            dataType: "json",
            success: function (response) {
                var expires = (new Date(Date.now()+ 86400*1000)).toUTCString();
                document.cookie =  "cart=" + response['cartToken'] + ";expires=" + expires + ";path=/";
                document.getElementById('card-quantity').innerHTML = response['cartQuantity'];

            },
        });

    }
    readCartQuantity();
</script>